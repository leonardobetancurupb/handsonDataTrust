version: "3.8",
services: 
  mongo-db: 
    image: mongo:3.6
    hostname: mongo-db
    container_name: mongo-db
    networks: 
      - default
    expose: 
      - "27017"
    ports:
      - "27017:27017"
    volumes:
      - mongo-db:/data

  django-app:
    image: python:3.12.2
    container_name: django-app
    hostname: django-app
    networks: 
      - default
    ports:
      - "8000:8000"
    volumes:
      - ./django:/django
    working_dir: /app
    command: bash -c "pip install -r requirements.txt && python manage.py runserver 0.0.0.0:8000"

  volumes:
    mongo-db: ~